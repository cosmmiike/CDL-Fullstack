<!DOCTYPE html>

<title>Fibonacci</title>

<style type="text/css">
  body {
    font-family: Consolas, monospace;
  }

  h1 {
    size: 120%;
    color: #80c0ff;
    font-family: Calibri, sans-serif;
  }

  table.hsl {
    width: auto;
    margin-left: auto;
    margin-right: auto;
    background-color: #A0A0A0;
    border-width: 2px 10px 10px 2px;
    border-style: solid;
    border-color: #A0A0A0;
    border-collapse: collapse;
    line-height: 1.33em;
  }

  table.hsl td {
    border: 1px solid #A0A0A0;
    padding: 0.1em 0.2em;
    color: black;
    font-family: Consolas, monospace;
    width: 3em;
    background-color: #C0C0C0;
  }

  table.hsl tr:first-child td,
  table.hsl tr:nth-child(2) td {
    text-align: center;
    background-color: transparent;
  }

  table.hsl td:first-child {
    text-align: right;
    background-color: transparent;
  }

  .curseur {
    text-align: center;
    margin-bottom: 20px;
  }
</style>

<body>

  <h1>2.1 - tableau HSL</h1>
  <table id="hsl1" class="hsl">
    <tr><td> </td><td colspan=5>saturation</td></tr>
    <tr><td>lum</td><td>100%</td><td>75%</td><td>50%</td><td>25%</td><td>0%</td></tr>
    <tr><td>100%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>87.50%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>75%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>62.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>50%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>37.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>25%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>12.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>0%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
  </table>

  <h1>2.2 - tableau HSL variable</h1>
  <table id="hsl2" class="hsl">
    <tr><td> </td><td colspan=5>hue = 0</td></tr>
    <tr><td>L \ S</td><td>100%</td><td>75%</td><td>50%</td><td>25%</td><td>0%</td></tr>
    <tr><td>100%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>87.50%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>75%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>62.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>50%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>37.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>25%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>12.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>0%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
  </table>

  <h1>2.3 - tableau HSL variable avec curseur</h1>
  <div class="curseur">
    <input type="range" min="0" max="360" value="0" id="slider">
    <span>hue = </span>
    <span>0</span>
  </div>
  <table id="hsl3" class="hsl">
    <tr><td> </td><td colspan=5>saturation</td></tr>
    <tr><td>lum</td><td>100%</td><td>75%</td><td>50%</td><td>25%</td><td>0%</td></tr>
    <tr><td>100%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>87.50%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>75%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>62.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>50%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>37.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>25%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>12.5%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
    <tr><td>0%</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
  </table>

  <script type="text/javascript">
    var hsl1 = document.getElementById('hsl1');
    var rows = hsl1.getElementsByTagName('tr');
    for (var n = 2; n < rows.length; n++){
      tr = rows[n];
      var lum = tr.firstChild.firstChild.nodeValue;
      var sat = rows[1].firstChild.nextSibling;
      for (var td = tr.childNodes[1]; td; td = td.nextSibling){
        var couleur = "hsl(0, " + sat.firstChild.nodeValue + ", " + lum + ")";
        td.style.background = couleur;
        td.setAttribute('title', couleur);
        sat = sat.nextSibling;
      }
    }
  </script>

  <script type="text/javascript">
    var hsl2 = document.getElementById('hsl2');
    colorhsl = function(hsl2, hue){
      var rows = hsl2.getElementsByTagName('tr');
      for (var n = 2; n < rows.length; n++){
        tr = rows[n];
        var lum = tr.firstChild.firstChild.nodeValue;
        var sat = rows[1].firstChild.nextSibling;
        for (var td = tr.childNodes[1]; td; td = td.nextSibling){
          var couleur = "hsl(" + hue + ", " + sat.firstChild.nodeValue + ", " + lum + ")";
          td.style.backgroundColor = couleur;
          td.setAttribute('title', couleur);
          sat = sat.nextSibling;
        }
      }
    };

    var hsl2 = document.getElementById('hsl2');
    colorhsl(hsl2, 0);

    hsl2.addEventListener('mousemove', function(event){
      var dx = (event.layerX - hsl2.offsetLeft - hsl2.clientWidth/2);
      var dy = (event.layerY - hsl2.offsetTop - hsl2.clientHeight/2);
      var hue = 180 + Math.atan2(dx, dy) * 180 / Math.PI;
      this.getElementsByTagName('tr')[0].children[1].firstChild.nodeValue = 'hue = ' + hue.toFixed(0) + ' ';
      colorhsl(this, hue);
    });
  </script>

  <script type="text/javascript">
    var hsl3 = document.getElementById('hsl3');
    colorhsl = function(hsl3, hue){
      var rows = hsl3.getElementsByTagName('tr');
      for (var n = 2; n < rows.length; n++){
        tr = rows[n];
        var lum = tr.firstChild.firstChild.nodeValue;
        var sat = rows[1].firstChild.nextSibling;
        for (var td = tr.childNodes[1]; td; td = td.nextSibling){
          var couleur = "hsl(" + hue + ", " + sat.firstChild.nodeValue + ", " + lum + ")";
          td.style.backgroundColor = couleur;
          td.setAttribute('title', couleur);
          sat = sat.nextSibling;
        }
      }
    };

    var hsl3 = document.getElementById('hsl3');
    colorhsl(hsl3, 0);

    slider.addEventListener('input', function(event){
      var hue = event.currentTarget.value; event.currentTarget.parentNode.getElementsByTagName('span')[1].textContent = hue;
      colorhsl(hsl3, hue);
    });
  </script>

</body>
